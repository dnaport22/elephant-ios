<ion-view view-title="{{page}}" class="main">
  <!-- [START] Header button to change view -->
  <ion-nav-buttons side="right">

    <button style="padding-right: 5px;" class="button icon ion-navigation" ng-click="searchCategory()">
      <i class="icon ion-ios-search"></i>
    </button>
  </ion-nav-buttons>

  <ion-content>
    <!-- Pull to refresh direvctive -->

    <!--<div class="item item-input-inset" scroll="false">-->
      <!--<label class="item-input-wrapper" style="background-color:grey;">-->
        <!--<i class="icon ion-search placeholder-icon" style="color:white;"></i>-->
        <!--<input id="search" type="text" placeholder="Search for {{page}}"-->
               <!--ng-model="searchValue"-->
               <!--ng-change="search(this.searchValue)"-->
               <!--style="color:white;">-->
      <!--</label>-->
      <!--<button class="button button-small" ng-click="clearInput()" ng-if="inputVal == true">Clear</button>-->
    <!--</div>-->

    <!--<div class="item item-input-inset" scroll="false">-->
      <!--<button class="button icon ion-navigation" ng-click="changeToGrid(viewType)">-->
        <!--<i class="icon ion-ios-grid-view-outline" ng-if="viewType == 'list'"></i>-->
        <!--<i class="icon ion-ios-list-outline" ng-if="viewType == 'grid'"></i>-->
      <!--</button>-->
    <!--</div>-->

    <!--<ion-refresher-->
        <!--ng-if="searchActive == false"-->
        <!--pulling-text="Pull to load new items..."-->
        <!--on-refresh="pullToRefresh()">-->
    <!--</ion-refresher>-->
    <!-- Main grid to display items -->
    <div class="grid-container">

      <!-- Card view of the items -->
      <div class="grid-two-to-three-to-four-col" ng-repeat="item in DOMFeeds" ng-if="viewType == 'grid'">
        <div href="#" class="list card" ng-click="fullView(item)">
          <div class="item item-image" style="background-image: url('{{item.field_item_image.und[0].imgPath}}')"></div>
          <a class="item item-icon-right">
            {{::item.title}}
          </a>
        </div>
      </div>
      <!-- List view of the items -->
      <ion-list>
        <ion-item ng-repeat="item in DOMFeeds"
                  class="item-thumbnail-left" ng-if="viewType == 'list'"
                  ng-click="fullView(item)">
          <img ng-src="{{item.field_item_image.und[0].imgPath}}">
          <h2>{{::item.title}}</h2>
          <p>{{::item.body.und[0].value}}</p>
        </ion-item>
        <ion-item ng-show="itemsFinished">Sorry no more items!</ion-item>
      </ion-list>
    </div>
    <!-- End Main grid -->
    <!-- Infinite scroll directive -->
    <div ng-if="searchActive == false">
      <ion-infinite-scroll
              ng-if="checkInitial()"
              on-infinite="loadInitialInfiniteScroll()"
              immediate-check="false"
              distance="1%">
      </ion-infinite-scroll>
    </div>
    <div ng-if="searchActive == true">
      <ion-infinite-scroll
              ng-if="checkSearch()"
              on-infinite="loadSearchInfiniteScroll()"
              immediate-check="false"
              distance="1%">
      </ion-infinite-scroll>
    </div>
  </ion-content>

</ion-view>